(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"082f":function(t,e,s){"use strict";s("b8dc")},b8dc:function(t,e,s){},c44b:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.product?s("q-page",{staticClass:"flex",staticStyle:{background:"white"}},[s("div",{staticClass:"q-pa-md header-top"},[s("div",{staticClass:"flex justify-between"},[s("q-btn",{staticStyle:{cursor:"pointer",opacity:".9"},attrs:{to:"/",flat:"",dense:"",icon:"keyboard_backspace","icon-size":"27px"}}),s("div",{staticClass:"q-gutter-md"},[s("q-btn",{attrs:{unelevated:"",round:"",size:"md",dense:"",color:"white","text-color":"grey-9",icon:"shopping_bag"},on:{click:function(e){t.cartShow=!t.cartShow}}},[t.carts.length?s("q-badge",{attrs:{color:"pink",floating:""}},[t._v(t._s(t.carts.length))]):t._e()],1),s("q-btn",{staticClass:"q-ml-md",attrs:{color:"white",unelevated:"",round:"",size:"md",dense:"",icon:"favorite","text-color":"grey-9"}})],1)],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("q-carousel",{ref:"carousel",staticClass:"img-carousel",style:t.cStyle,attrs:{animated:"",swipeable:"",fullscreen:t.fullscreen,navigation:"",infinite:""},on:{"update:fullscreen":function(e){t.fullscreen=e}},scopedSlots:t._u([{key:"control",fn:function(){return[s("q-carousel-control",{attrs:{position:"bottom-right",offset:[18,40]}},[s("q-btn",{attrs:{push:"",round:"",dense:"",color:"white","text-color":"primary",icon:t.fullscreen?"fullscreen_exit":"fullscreen"},on:{click:function(e){t.fullscreen=!t.fullscreen}}})],1)]},proxy:!0}],null,!1,1945090610),model:{value:t.slide,callback:function(e){t.slide=e},expression:"slide"}},t._l(t.product.images,(function(t,e){return s("q-carousel-slide",{key:e,attrs:{name:e+1,"img-src":t.src,ratio:"1"}})})),1),s("q-card",{staticClass:"product-detail",attrs:{flat:""}},[s("q-card-section",{staticClass:"col-md-6 col-12"},[s("div",{staticClass:"text-h6 text-weight-bold"},[t._v(t._s(t.product.title))]),s("div",{staticClass:"row items-center justify-between"},[s("div",{staticClass:"text-h6 text-weight-medium"},[t._v(t._s(t.money(t.product.price*t.qty)))]),s("div",{staticClass:"row q-gutter-md text-h6 items-center"},[s("q-icon",{staticStyle:{cursor:"pointer"},attrs:{name:"remove_circle_outline",size:"24"},on:{click:t.decrementQty}}),s("div",[t._v(t._s(t.qty))]),s("q-icon",{staticStyle:{cursor:"pointer"},attrs:{name:"add_circle_outline",size:"24"},on:{click:t.incrementQty}})],1)]),s("div",{staticClass:"q-mt-sm"},[s("div",{staticClass:"text-subtitle text-weight-medium",style:t.stockStyle()},[t._v("Stok: "+t._s(0==t.currentStock?"Habis":t.currentStock))]),s("div",{},[t._v("\n              "+t._s(t.product.description)+"\n              ")])])])],1)],1)]),s("q-footer",{staticClass:"q-gutter-x-sm flex q-pa-md bg-white"},[s("q-btn",{attrs:{icon:"favorite",outline:"",round:"",color:t.isLike?"pink":"dark"},on:{click:t.likeBtn}}),s("q-btn",{staticClass:"col w-full",attrs:{unelevated:"",rounded:"",disabled:0==t.currentStock,icon:"shopping_basket",label:"Masukan Keranjang",color:"dark"},on:{click:t.addToCart}})],1),s("q-dialog",{attrs:{position:"bottom"},model:{value:t.cartShow,callback:function(e){t.cartShow=e},expression:"cartShow"}},[s("q-card",{staticStyle:{"max-width":"600px",width:"100%"}},[s("q-linear-progress",{attrs:{value:1,color:"pink"}}),t.carts.length?[s("div",[s("div",{staticClass:"q-pa-md text-weight-bold text-h6 bg-blue-grey-1"},[t._v("Shopping Cart")]),t._l(t.carts,(function(e){return s("div",{key:e.id,staticClass:"row q-pa-sm justify-between items-start",staticStyle:{"border-bottom":"1px solid #eee"}},[s("q-img",{staticStyle:{width:"110px",height:"70px"},attrs:{src:e.images[0].src}}),s("div",{staticClass:"col q-pl-sm"},[s("div",{staticClass:"text-weight-bold"},[t._v(t._s(e.title))]),s("div",{staticClass:"text-grey-7"},[t._v(t._s(e.qty+"x "+t.money(e.price)))]),s("div",{staticClass:"text-grey-7"},[t._v("Subtotal: "+t._s(t.money(e.qty*e.price)))])]),s("q-btn",{attrs:{icon:"clear",flat:"",round:"",color:"red"}})],1)})),s("div",{staticClass:"q-pa-md row text-right"},[s("q-space"),s("table",[s("tr",[s("th",{attrs:{align:"right"}},[t._v("Subtotal :")]),s("td",[t._v(t._s(t.money(t.subtotal())))])]),s("tr",[s("th",{attrs:{align:"right"}},[t._v("Discount :")]),s("td",[t._v(t._s(t.discount+"%"))])]),s("tr",[s("th",{attrs:{align:"right"}},[t._v("Total :")]),s("td",[t._v(t._s(t.money(t.total())))])])])],1)],2),s("q-card-actions",[s("q-space"),s("q-btn",{attrs:{icon:"close",label:"Close",unelevated:"",color:"dark"},on:{click:function(e){t.cartShow=!1}}}),s("q-btn",{attrs:{icon:"shopping_basket",label:"Checkout",unelevated:"",color:"pink"}})],1)]:[s("q-card-section",{staticClass:"column justify-center"},[s("p",{staticClass:"text-grey-8 text-weight-bold text-center q-py-lg"},[t._v("Keranjang kosong!")]),s("q-btn",{attrs:{icon:"close",label:"Close",unelevated:"",color:"pink"},on:{click:function(e){t.cartShow=!1}}})],1)]],2)],1)],1):t._e()},c=[],a=s("ded3"),r=s.n(a),o=(s("7db0"),s("13d5"),s("159b"),s("4de4"),s("ac1f"),s("1276"),{data:function(){return{currentStock:0,cartShow:!1,slide:1,qty:1,discount:0,likes:[],param:this.$route.params.id,fullscreen:!1}},computed:{carts:function(){return this.$store.state.carts},product:function(){return this.$store.getters["product/getProductById"](parseInt(this.param))},isLike:function(){var t=this;return this.likes.length>0&&!!this.likes.find((function(e){return e==t.param}))},cStyle:function(){return!this.fullscreen&&this.$q.screen.width<560&&this.$q.screen.width>200?"height:"+this.$q.screen.width+"px":""}},methods:{discountPriceFormat:function(){return this.subtotal()*this.discount/100},money:function(t){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumSignificantDigits:2}).format(t)},subQty:function(){return this.carts.length>1?this.carts.reduce((function(t,e){return t.qty+e.qty})):this.carts[0].qty},subtotal:function(){if(this.carts.length>1){var t=[];return this.carts.forEach((function(e){t.push(e.qty*e.price)})),t.reduce((function(t,e){return t+e}))}return this.carts[0].qty*this.carts[0].price},total:function(){return this.discount||0!==this.discount?this.subtotal()-this.discountPriceFormat():this.subtotal()},stockStyle:function(){return this.currentStock>9?"color:green":this.currentStock<=5&&this.currentStock>0?"color:#cca001":0==this.currentStock?"color:red":void 0},back:function(){console.log("back")},cart:function(){console.log("cart")},addToCart:function(){this.$store.commit("ADD_TO_CART",r()(r()({},this.product),{},{qty:this.qty})),this.$q.dialog({title:"Item telah ditambahkan",message:"Akan lanjut ke halaman chekout?",ok:{label:"Checkout",flat:!0,"no-caps":!0},cancel:{label:"Belanja Lagi",flat:!0,"no-caps":!0}}).onOk((function(){console.log("OK")})).onCancel((function(){console.log("Cancel")})).onDismiss((function(){}))},likeBtn:function(){var t=this;if(this.likes.length>0){var e=this.likes.find((function(e){return e==t.param}));console.log(e),void 0!=e?this.likes=this.likes.filter((function(e){return e!=t.param})):this.likes.push(this.param)}else this.likes.push(this.param);localStorage.setItem("likes",this.likes)},next:function(){this.param++,this.$router.push({name:"ProductShow",params:{id:this.param}})},prev:function(){this.param--,this.$router.push({name:"ProductShow",params:{id:this.param}})},setPrice:function(){this.priceTotal=this.price*this.qty},incrementQty:function(){this.qty<this.currentStock?this.qty++:this.$q.dialog({title:"Warning!",message:"Stok tidak cukup, stok tersisa "+this.currentStock+" item."})},decrementQty:function(){this.qty>1?this.qty--:this.$q.dialog({title:"Warning!",message:"Minimum  1 item pembelian"})},checkStock:function(){var t=this,e=this.carts.find((function(e){return e.id==t.$route.params.id}));void 0!=e&&(this.currentStock-=e.qty)},setCarouselHeight:function(){this.$q.screen.width;console.log(this.$refs.carousel)}},mounted:function(){localStorage.getItem("likes")&&(this.likes=[],this.likes=localStorage.getItem("likes").split(",")),this.product&&(this.currentStock=this.product.stock),this.carts.length>0&&this.checkStock(),this.setCarouselHeight()}}),n=o,l=(s("082f"),s("2877")),u=s("9989"),d=s("9c40"),h=s("58a81"),p=s("880c"),f=s("62cd"),m=s("32a7"),g=s("f09f"),k=s("a370"),b=s("0016"),q=s("7ff0"),y=s("24e8"),v=s("6b1d"),S=s("068f"),_=s("2c91"),C=s("4b7e"),w=s("eebe"),x=s.n(w),Q=Object(l["a"])(n,i,c,!1,null,null,null);e["default"]=Q.exports;x()(Q,"components",{QPage:u["a"],QBtn:d["a"],QBadge:h["a"],QCarousel:p["a"],QCarouselSlide:f["a"],QCarouselControl:m["a"],QCard:g["a"],QCardSection:k["a"],QIcon:b["a"],QFooter:q["a"],QDialog:y["a"],QLinearProgress:v["a"],QImg:S["a"],QSpace:_["a"],QCardActions:C["a"]})}}]);